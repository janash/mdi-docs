
<!DOCTYPE html>


<html lang="en" data-content_root="../../" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Command List &#8212; MolSSI Driver Interface (MDI)  documentation</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../../_static/styles/theme.css?digest=3ee479438cf8b5e0d341" rel="stylesheet" />
<link href="../../_static/styles/bootstrap.css?digest=3ee479438cf8b5e0d341" rel="stylesheet" />
<link href="../../_static/styles/pydata-sphinx-theme.css?digest=3ee479438cf8b5e0d341" rel="stylesheet" />

  
  <link href="../../_static/vendor/fontawesome/6.5.2/css/all.min.css?digest=3ee479438cf8b5e0d341" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="../../_static/vendor/fontawesome/6.5.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../../_static/vendor/fontawesome/6.5.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../../_static/vendor/fontawesome/6.5.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=80d5e7a1" />
    <link rel="stylesheet" type="text/css" href="../../_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="../../_static/sphinx-design.min.css?v=87e54e7c" />
    <link rel="stylesheet" type="text/css" href="../../_static/css/custom.css?v=03a2335e" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../../_static/scripts/bootstrap.js?digest=3ee479438cf8b5e0d341" />
<link rel="preload" as="script" href="../../_static/scripts/pydata-sphinx-theme.js?digest=3ee479438cf8b5e0d341" />
  <script src="../../_static/vendor/fontawesome/6.5.2/js/all.min.js?digest=3ee479438cf8b5e0d341"></script>

    <script src="../../_static/documentation_options.js?v=5929fcd5"></script>
    <script src="../../_static/doctools.js?v=9a2dae69"></script>
    <script src="../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../../_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="../../_static/copybutton.js?v=f281be69"></script>
    <script src="../../_static/design-tabs.js?v=f930bc37"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'user_guide/mdi_standard/commands';</script>
    <link rel="icon" href="../../_static/molssi_square.png"/>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-primary-sidebar-checkbox"/>
  <label class="overlay overlay-primary" for="pst-primary-sidebar-checkbox"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-secondary-sidebar-checkbox"/>
  <label class="overlay overlay-secondary" for="pst-secondary-sidebar-checkbox"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="../../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search the docs ..."
         aria-label="Search the docs ..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
<div class="bd-header__inner bd-page-width">
  <button class="sidebar-toggle primary-toggle" aria-label="Site navigation">
    <span class="fa-solid fa-bars"></span>
  </button>
  
  
  <div class="col-lg-3 navbar-header-items__start">
    
      <div class="navbar-item">

  

<a class="navbar-brand logo" href="../../index.html">
  
  
  
  
  
    
    
      
    
    
    <img src="../../_static/mdi-light.png" class="logo__image only-light" alt=""/>
    <script>document.write(`<img src="../../_static/mdi-dark.png" class="logo__image only-dark" alt=""/>`);</script>
  
  
    <p class="title logo__title">MolSSI Driver Interface</p>
  
</a></div>
    
  </div>
  
  <div class="col-lg-9 navbar-header-items">
    
    <div class="me-auto navbar-header-items__center">
      
        <div class="navbar-item">
<nav class="navbar-nav">
  <ul class="bd-navbar-elements navbar-nav">
    
<li class="nav-item pst-header-nav-item">
  <a class="nav-link nav-internal" href="../../getting_started/index.html">
    Getting Started
  </a>
</li>


<li class="nav-item pst-header-nav-item">
  <a class="nav-link nav-internal" href="../index.html">
    User Guide
  </a>
</li>


<li class="nav-item pst-header-nav-item">
  <a class="nav-link nav-internal" href="../../api/index.html">
    API Documentation
  </a>
</li>


<li class="nav-item pst-header-nav-item">
  <a class="nav-link nav-internal" href="../../developer_guide/index.html">
    Developer Guide
  </a>
</li>

            <li class="nav-item dropdown pst-header-nav-item">
                <button class="btn dropdown-toggle nav-item" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-controls="pst-nav-more-links">
                    More
                </button>
                <ul id="pst-nav-more-links" class="dropdown-menu">
                    
<li class="nav-item ">
  <a class="nav-link dropdown-item nav-external" href="https://molssi.org">
    MolSSI
  </a>
</li>

                </ul>
            </li>
            
  </ul>
</nav></div>
      
    </div>
    
    
    <div class="navbar-header-items__end">
      
        <div class="navbar-item navbar-persistent--container">
          

 <script>
 document.write(`
   <button class="btn navbar-btn search-button-field search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
    <span class="search-button__default-text">Search</span>
    <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
   </button>
 `);
 </script>
        </div>
      
      
        <div class="navbar-item">

<script>
document.write(`
  <button class="btn btn-sm navbar-btn theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="theme-switch nav-link" data-mode="light"><i class="fa-solid fa-sun fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="dark"><i class="fa-solid fa-moon fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="auto"><i class="fa-solid fa-circle-half-stroke fa-lg"></i></span>
  </button>
`);
</script></div>
      
        <div class="navbar-item"><ul class="navbar-icon-links navbar-nav"
    aria-label="Icon Links">
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://github.com/MolSSI/molssi_doc_theme" title="GitHub" class="nav-link" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><span><i class="fa-brands fa-square-github fa-lg" aria-hidden="true"></i></span>
            <span class="sr-only">GitHub</span></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://twitter.com/MolSSI_NSF" title="Twitter" class="nav-link" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><span><i class="fa-brands fa-square-twitter fa-lg" aria-hidden="true"></i></span>
            <span class="sr-only">Twitter</span></a>
        </li>
</ul></div>
      
    </div>
    
  </div>
  
  
    <div class="navbar-persistent--mobile">

 <script>
 document.write(`
   <button class="btn navbar-btn search-button-field search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
    <span class="search-button__default-text">Search</span>
    <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
   </button>
 `);
 </script>
    </div>
  

  
    <button class="sidebar-toggle secondary-toggle" aria-label="On this page">
      <span class="fa-solid fa-outdent"></span>
    </button>
  
</div>

    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
      <div class="sidebar-header-items__center">
        
          
          
            <div class="navbar-item">
<nav class="navbar-nav">
  <ul class="bd-navbar-elements navbar-nav">
    
<li class="nav-item pst-header-nav-item">
  <a class="nav-link nav-internal" href="../../getting_started/index.html">
    Getting Started
  </a>
</li>


<li class="nav-item pst-header-nav-item">
  <a class="nav-link nav-internal" href="../index.html">
    User Guide
  </a>
</li>


<li class="nav-item pst-header-nav-item">
  <a class="nav-link nav-internal" href="../../api/index.html">
    API Documentation
  </a>
</li>


<li class="nav-item pst-header-nav-item">
  <a class="nav-link nav-internal" href="../../developer_guide/index.html">
    Developer Guide
  </a>
</li>


<li class="nav-item pst-header-nav-item">
  <a class="nav-link nav-external" href="https://molssi.org">
    MolSSI
  </a>
</li>

  </ul>
</nav></div>
          
        
      </div>
    
    
    
      <div class="sidebar-header-items__end">
        
          <div class="navbar-item">

<script>
document.write(`
  <button class="btn btn-sm navbar-btn theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="theme-switch nav-link" data-mode="light"><i class="fa-solid fa-sun fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="dark"><i class="fa-solid fa-moon fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="auto"><i class="fa-solid fa-circle-half-stroke fa-lg"></i></span>
  </button>
`);
</script></div>
        
          <div class="navbar-item"><ul class="navbar-icon-links navbar-nav"
    aria-label="Icon Links">
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://github.com/MolSSI/molssi_doc_theme" title="GitHub" class="nav-link" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><span><i class="fa-brands fa-square-github fa-lg" aria-hidden="true"></i></span>
            <span class="sr-only">GitHub</span></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://twitter.com/MolSSI_NSF" title="Twitter" class="nav-link" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><span><i class="fa-brands fa-square-twitter fa-lg" aria-hidden="true"></i></span>
            <span class="sr-only">Twitter</span></a>
        </li>
</ul></div>
        
      </div>
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">
<nav class="bd-docs-nav bd-links"
     aria-label="Section Navigation">
  <p class="bd-links__title" role="heading" aria-level="1">Section Navigation</p>
  <div class="bd-toc-item navbar-nav"></div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        
          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item">



<nav aria-label="Breadcrumb" class="d-print-none">
  <ul class="bd-breadcrumbs">
    
    <li class="breadcrumb-item breadcrumb-home">
      <a href="../../index.html" class="nav-link" aria-label="Home">
        <i class="fa-solid fa-home"></i>
      </a>
    </li>
    <li class="breadcrumb-item active" aria-current="page">Command List</li>
  </ul>
</nav>
</div>
      
    </div>
  
  
</div>
</div>
              
              
              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section id="command-list">
<span id="id1"></span><h1>Command List<a class="headerlink" href="#command-list" title="Link to this heading">#</a></h1>
<p>The following is a list of commands that are officially part of the MDI standard.</p>
<section id="recv-cdensity-cdensity">
<h2>recv_cdensity &lt;CDENSITY<a class="headerlink" href="#recv-cdensity-cdensity" title="Link to this heading">#</a></h2>
<p>The engine sends the Cartesian coordinates of a set of grid points.
This command is intended to be used in conjuction with the recv_ndensity and recv_density commands; these three commands enable a driver to acquire the electronic density distribution of an engine in a grid representation.
See the recv_density command for more details.</p>
<p>\par</p>
<ul class="simple">
<li><p><strong>Data Type:</strong> <code class="docutils literal notranslate"><span class="pre">MDI_DOUBLE</span></code></p></li>
<li><p><strong>Quantity:</strong> <code class="docutils literal notranslate"><span class="pre">3</span> <span class="pre">*</span> <span class="pre">NDENSITY</span></code></p></li>
</ul>
</section>
<section id="send-cell-cell">
<h2>send_cell &gt;CELL<a class="headerlink" href="#send-cell-cell" title="Link to this heading">#</a></h2>
<p>The driver sends a set of cell vectors to the engine, which resizes its simulation cell to the dimensions specified by the cell vectors.</p>
<p>\par</p>
<ul class="simple">
<li><p><strong>Data Type:</strong> `MDI_DOUBLE</p></li>
<li><p><strong>Quantity:</strong> 9</p></li>
<li><p><strong>Format:</strong> The first 3 values correspond to the x, y, and z values, respectively, of the first cell vector.
The next 3 values correspond to the x, y, and z values, respectively, of the second cell vector.
The next 3 values correspond to the x, y, and z values, respectively, of the third cell vector.</p></li>
</ul>
</section>
<section id="recv-cell-cell">
<h2>recv_cell &lt;CELL<a class="headerlink" href="#recv-cell-cell" title="Link to this heading">#</a></h2>
<p>The engine sends a set of cell vectors to the driver.</p>
<p>\par</p>
<ul class="simple">
<li><p><strong>Data Type:</strong> `MDI_DOUBLE</p></li>
<li><p><strong>Quantity:</strong> 9</p></li>
<li><p><strong>Format:</strong> The first 3 values correspond to the x, y, and z values, respectively, of the first cell vector.
The next 3 values correspond to the x, y, and z values, respectively, of the second cell vector.
The next 3 values correspond to the x, y, and z values, respectively, of the third cell vector.</p></li>
</ul>
</section>
<section id="send-cell-displ-cell-displ">
<h2>send_cell_displ &gt;CELL_DISPL<a class="headerlink" href="#send-cell-displ-cell-displ" title="Link to this heading">#</a></h2>
<p>The driver sends a displacement vector to the engine, which adjusts the origin of its simulation cell to the value of the displacement vector.</p>
<p>\par</p>
<ul class="simple">
<li><p><strong>Data Type:</strong> `MDI_DOUBLE</p></li>
<li><p><strong>Quantity:</strong> 3</p></li>
<li><p><strong>Format:</strong> The 3 values correspond to the x, y, and z values, respectively, of the simulation cell displacement vector.</p></li>
</ul>
</section>
<section id="recv-cell-displ-cell-displ">
<h2>recv_cell_displ &lt;CELL_DISPL<a class="headerlink" href="#recv-cell-displ-cell-displ" title="Link to this heading">#</a></h2>
<p>The engine sends the displacement vector of the origin of its simulation cell to the driver.</p>
<p>\par</p>
<ul class="simple">
<li><p><strong>Data Type:</strong> `MDI_DOUBLE</p></li>
<li><p><strong>Quantity:</strong> 3</p></li>
<li><p><strong>Format:</strong> The 3 values correspond to the x, y, and z values, respectively, of the simulation cell displacement vector.</p></li>
</ul>
</section>
<section id="send-charges-charges">
<h2>send_charges &gt;CHARGES<a class="headerlink" href="#send-charges-charges" title="Link to this heading">#</a></h2>
<p>The driver sends a set of atomic charges to the engine, which replaces its atomic charges with those sent by the driver.</p>
<p>\par</p>
<ul class="simple">
<li><p><strong>Data Type:</strong> `MDI_DOUBLE</p></li>
<li><p><strong>Quantity:</strong> `NATOMS</p></li>
<li><p><strong>Format:</strong> Sequentially ascending order of atomic index</p></li>
</ul>
</section>
<section id="recv-charges-charges">
<h2>recv_charges &lt;CHARGES<a class="headerlink" href="#recv-charges-charges" title="Link to this heading">#</a></h2>
<p>The engine sends a set of atomic charges to the driver, in the same format as specified for the `&gt;CHARGES command.</p>
<p>\par</p>
<ul class="simple">
<li><p><strong>Data Type:</strong> `MDI_DOUBLE</p></li>
<li><p><strong>Quantity:</strong> `NATOMS</p></li>
<li><p><strong>Format:</strong> Sequentially ascending order of atomic index</p></li>
</ul>
</section>
<section id="send-clattice-clattice">
<h2>send_clattice &gt;CLATTICE<a class="headerlink" href="#send-clattice-clattice" title="Link to this heading">#</a></h2>
<p>This command, along with the <code class="docutils literal notranslate"><span class="pre">&gt;NLATTICE</span> <span class="pre">and</span> </code>&gt;LATTICE commands, allows the driver to assign a lattice of point charges to an engine, which incorporates the effects of these charges in all further calculations.
After sending this command, the driver sends the coordinates of each of the point charges to the engine.
Prior to sending this command, the driver must have set the number of point charges using the `&gt;NLATTICE command.</p>
<p>This command is primarily intended for use with gas-phase quantum mechanics codes.
For an alternative command that is more appropriate for plane wave quantum mechanics codes, see the `&gt;POTENTIAL command.</p>
<p>\par</p>
<ul class="simple">
<li><p><strong>Data Type:</strong> `MDI_DOUBLE</p></li>
<li><p><strong>Quantity:</strong> <c> 3 * NLATTICE </c></p></li>
<li><p><strong>Format:</strong> Sequentially ascending order of lattice charge index, with the coordinates for each individual lattice charge being provided in xyz order</p></li>
</ul>
</section>
<section id="send-coords-coords">
<h2>send_coords &gt;COORDS<a class="headerlink" href="#send-coords-coords" title="Link to this heading">#</a></h2>
<p>The driver sends a set of atomic coordinates to the engine, which replaces its atomic coordinates with those sent by the driver.</p>
<p>\par</p>
<ul class="simple">
<li><p><strong>Data Type:</strong> `MDI_DOUBLE</p></li>
<li><p><strong>Quantity:</strong> <c> 3 * NATOMS </c></p></li>
<li><p><strong>Format:</strong> Sequentially ascending order of atomic index, with the coordinates for each individual atom being provided in xyz order</p></li>
</ul>
</section>
<section id="recv-coords-coords">
<h2>recv_coords &lt;COORDS<a class="headerlink" href="#recv-coords-coords" title="Link to this heading">#</a></h2>
<p>The engine sends a set of atomic coordinates to the driver.</p>
<p>\par</p>
<ul class="simple">
<li><p><strong>Data Type:</strong> `MDI_DOUBLE</p></li>
<li><p><strong>Quantity:</strong> <c> 3 * NATOMS </c></p></li>
<li><p><strong>Format:</strong> Sequentially ascending order of atomic index, with the coordinates for each individual atom being provided in xyz order</p></li>
</ul>
</section>
<section id="send-cpotential-cpotential">
<h2>send_cpotential &gt;CPOTENTIAL<a class="headerlink" href="#send-cpotential-cpotential" title="Link to this heading">#</a></h2>
<p>The driver sends the Cartesian coordinates of a set of grid points.
This command is intended to be used in conjuction with the send_npotential and send_potential commands; these three commands enable a driver to set an external potential that is incorporated into a subsequent scf_command command.
See the send_potential command for more details.</p>
<p>Before sending this command, the driver must have first sent the number of grid points used to represent the potential via the send_npotential command.
It is also necessary that the driver send the values of the grid points via the send_cpotential command prior to any subsequent scf_command command.</p>
<p>\par</p>
<ul class="simple">
<li><p><strong>Data Type:</strong> `MDI_DOUBLE</p></li>
<li><p><strong>Quantity:</strong> <c> 3 * NPOTENTIAL </c></p></li>
</ul>
</section>
<section id="recv-density-density">
<h2>recv_density &lt;DENSITY<a class="headerlink" href="#recv-density-density" title="Link to this heading">#</a></h2>
<p>The engine sends the value of its electronic density on a set of grid points.
This command is intended to be used in conjuction with the recv_ndensity and recv_cdensity commands; these three commands enable a driver to acquire the electronic density distribution of an engine in a grid representation.</p>
<p>\par</p>
<ul class="simple">
<li><p><strong>Data Type:</strong> `MDI_DOUBLE</p></li>
<li><p><strong>Quantity:</strong> `NDENSITY</p></li>
</ul>
</section>
<section id="recv-dimensions-dimensions">
<h2>recv_dimensions &lt;DIMENSIONS<a class="headerlink" href="#recv-dimensions-dimensions" title="Link to this heading">#</a></h2>
<p>The engine sends basic information about the dimensionality of its system to the driver.
For each of its three cell vectors (see the `&lt;CELL command) the engine sends an integer that indicates whether that dimension is represented as periodic, non-periodic, or not represented at all (in the case of 1d or 2d systems).
The possible values for each cell vector are:</p>
<ul class="simple">
<li><p>0: Not represented</p></li>
<li><p>1: Non-periodic</p></li>
<li><p>2: Periodic</p></li>
</ul>
<p>\par</p>
<ul class="simple">
<li><p><strong>Data Type:</strong> `MDI_INT</p></li>
<li><p><strong>Quantity:</strong> 3</p></li>
<li><p><strong>Format:</strong> Sequentially ascending order of cell vector (see the &lt;CELL command)</p></li>
</ul>
</section>
<section id="send-mult-elec-mult">
<h2>send_mult &gt;ELEC_MULT<a class="headerlink" href="#send-mult-elec-mult" title="Link to this heading">#</a></h2>
<p>The driver sends the electronic multiplicity of the system to the engine.
This command is typically only appropriate for quantum mechanics engines.</p>
<p>\par</p>
<ul class="simple">
<li><p><strong>Data Type:</strong> `MDI_INT</p></li>
<li><p><strong>Quantity:</strong> 1</p></li>
</ul>
</section>
<section id="recv-mult-elec-mult">
<h2>recv_mult &lt;ELEC_MULT<a class="headerlink" href="#recv-mult-elec-mult" title="Link to this heading">#</a></h2>
<p>The engine sends the electronic multiplicity of its system to the driver.
This command is typically only appropriate for quantum mechanics engines.</p>
<p>\par</p>
<ul class="simple">
<li><p><strong>Data Type:</strong> `MDI_INT</p></li>
<li><p><strong>Quantity:</strong> 1</p></li>
</ul>
</section>
<section id="recv-elements-elements">
<h2>recv_elements &lt;ELEMENTS<a class="headerlink" href="#recv-elements-elements" title="Link to this heading">#</a></h2>
<p>The engine sends the atomic number of each atom in its system to the driver.</p>
<p>\par</p>
<ul class="simple">
<li><p><strong>Data Type:</strong> `MDI_INT</p></li>
<li><p><strong>Quantity:</strong> `NATOMS</p></li>
<li><p><strong>Format:</strong> Sequentially ascending order of atomic index</p></li>
</ul>
</section>
<section id="send-elements-elements">
<h2>send_elements &gt;ELEMENTS<a class="headerlink" href="#send-elements-elements" title="Link to this heading">#</a></h2>
<p>The driver sends a set of atomic numbers to the engine, which replaces the atomic number of each atom in its system with the values sent by the driver.</p>
<p>\par</p>
<ul class="simple">
<li><p><strong>Data Type:</strong> `MDI_INT</p></li>
<li><p><strong>Quantity:</strong> `NATOMS</p></li>
<li><p><strong>Format:</strong> Sequentially ascending order of atomic index</p></li>
</ul>
</section>
<section id="recv-energy-energy">
<h2>recv_energy &lt;ENERGY<a class="headerlink" href="#recv-energy-energy" title="Link to this heading">#</a></h2>
<p>If the engine is at the `&#64;DEFAULT node, it calculates and sends its total energy to the driver.
If the engine has previously calculated the energy of the system, and no intervening commands from the driver could have changed the energy, the engine is permitted to send the previously calculated energy instead of recalculating it.</p>
<p>If the engine is not at the `&#64;DEFAULT node, it sends its most recently calculated total energy to the driver.</p>
<p>\par</p>
<ul class="simple">
<li><p><strong>Data Type:</strong> `MDI_DOUBLE</p></li>
<li><p><strong>Quantity:</strong> 1</p></li>
</ul>
</section>
<section id="send-forces-forces">
<h2>send_forces &gt;FORCES<a class="headerlink" href="#send-forces-forces" title="Link to this heading">#</a></h2>
<p>The driver sends a set of atomic forces to the engine, which replaces its internal forces with the forces sent by the driver.</p>
<p>\par</p>
<ul class="simple">
<li><p><strong>Data Type:</strong> `MDI_DOUBLE</p></li>
<li><p><strong>Quantity:</strong> <c> 3 * NATOMS </c></p></li>
<li><p><strong>Format:</strong> Sequentially ascending order of atomic index, with the forces for each individual atom being provided in xyz order</p></li>
</ul>
</section>
<section id="send-add-forces-forces">
<h2>send_add_forces &gt;+FORCES<a class="headerlink" href="#send-add-forces-forces" title="Link to this heading">#</a></h2>
<p>The driver sends a set of atomic forces to the engine, which adds the forces sent by the driver to its internal forces.</p>
<p>\par</p>
<ul class="simple">
<li><p><strong>Data Type:</strong> `MDI_DOUBLE</p></li>
<li><p><strong>Quantity:</strong> <c> 3 * NATOMS </c></p></li>
<li><p><strong>Format:</strong> Sequentially ascending order of atomic index, with the forces for each individual atom being provided in xyz order</p></li>
</ul>
</section>
<section id="recv-forces-forces">
<h2>recv_forces &lt;FORCES<a class="headerlink" href="#recv-forces-forces" title="Link to this heading">#</a></h2>
<p>If the engine is at the `&#64;DEFAULT node, it calculates and sends its atomic forces to the driver.
These forces include all force contributions, including the force contributions associated with any constraint algorithm (e.g. SHAKE, RATTLE, etc.).
If the engine has previously calculated the atomic forces of the system, and no intervening commands from the driver could have changed the atomic forces, the engine is permitted to send the previously calculated atomic forces instead of recalculating them.</p>
<p>If the engine is not at the `&#64;DEFAULT node, it sends its most recently calculated atomic forces to the driver.
Depending on the engine’s current node, these forces may not include all contributions to the atomic forces.
See the descriptions of the different nodes for more details.</p>
<p>\par</p>
<ul class="simple">
<li><p><strong>Data Type:</strong> `MDI_DOUBLE</p></li>
<li><p><strong>Quantity:</strong> <c> 3 * NATOMS </c></p></li>
<li><p><strong>Format:</strong> Sequentially ascending order of atomic index, with the forces for each individual atom being provided in xyz order</p></li>
</ul>
</section>
<section id="recv-ke-ke">
<h2>recv_ke &lt;KE<a class="headerlink" href="#recv-ke-ke" title="Link to this heading">#</a></h2>
<p>If the engine is at the `&#64;DEFAULT node, it calculates and sends its total kinetic energy to the driver.
If the engine has previously calculated the energy of the system, and no intervening commands from the driver could have changed the energy, the engine is permitted to send the previously calculated energy instead of recalculating it.</p>
<p>If the engine is not at the `&#64;DEFAULT node, it sends its most recently calculated total kinetic energy to the driver.</p>
<p>\par</p>
<ul class="simple">
<li><p><strong>Data Type:</strong> `MDI_DOUBLE</p></li>
<li><p><strong>Quantity:</strong> 1</p></li>
</ul>
</section>
<section id="recv-ke-elec-ke-elec">
<h2>recv_ke_elec &lt;KE_ELEC<a class="headerlink" href="#recv-ke-elec-ke-elec" title="Link to this heading">#</a></h2>
<p>If the engine is at the `&#64;DEFAULT node, it calculates and sends the total kinetic energy of all electrons in its system to the driver.
If the engine has previously calculated the energy of the system, and no intervening commands from the driver could have changed the energy, the engine is permitted to send the previously calculated energy instead of recalculating it.</p>
<p>If the engine is not at the `&#64;DEFAULT node, it sends its most recently calculated electronic kinetic energy to the driver.</p>
<p>\par</p>
<ul class="simple">
<li><p><strong>Data Type:</strong> `MDI_DOUBLE</p></li>
<li><p><strong>Quantity:</strong> 1</p></li>
</ul>
</section>
<section id="recv-ke-nuc-ke-nuc">
<h2>recv_ke_nuc &lt;KE_NUC<a class="headerlink" href="#recv-ke-nuc-ke-nuc" title="Link to this heading">#</a></h2>
<p>If the engine is at the `&#64;DEFAULT node, it calculates and sends the total kinetic energy of all nuclei in its system to the driver.
If the engine has previously calculated the energy of the system, and no intervening commands from the driver could have changed the energy, the engine is permitted to send the previously calculated energy instead of recalculating it.</p>
<p>If the engine is not at the `&#64;DEFAULT node, it sends its most recently calculated nuclear kinetic energy to the driver.</p>
<p>\par</p>
<ul class="simple">
<li><p><strong>Data Type:</strong> `MDI_DOUBLE</p></li>
<li><p><strong>Quantity:</strong> 1</p></li>
</ul>
</section>
<section id="send-labels-labels">
<h2>send_labels &lt;LABELS<a class="headerlink" href="#send-labels-labels" title="Link to this heading">#</a></h2>
<p>The engine sends a label for each atom in its system.
“Labels” are intended primarily for the purpose of providing a human-readable identifier for each of the atoms, and do not have a standardized physical meaning.
It is recommended that the labels correspond to the element of each atom (i.e., “H”, “He”, “Li”, etc.), a name associated with atoms of a particular type (i.e., “Carboxyl_Hydrogen”, “Methyl_Hydrogen”), or a similarly descriptive term.
The atom labels may correspond to a number identifier (i.e., “1”, “2”, “3”, etc.) in cases where more descriptive labels are not practical, but note that such labels must be represented using the `MDI_CHAR data type, as indicated below.
It is required that atoms having different physical properties (i.e., different force field terms in a molecular mechanics simulation or different nuclear charges in a quantum chemistry simulation) have different labels.</p>
<p>\par</p>
<ul class="simple">
<li><p><strong>Data Type:</strong> `MDI_CHAR</p></li>
<li><p><strong>Quantity:</strong> <code class="docutils literal notranslate"><span class="pre">MDI_LABEL_LENGTH</span> <span class="pre">*</span> </code>NATOMS</p></li>
<li><p><strong>Format:</strong> An array of characters corresponding to the label of each atom in ascending order of atomic index, with each label consisting of `MDI_LABEL_LENGTH characters and being padded with spaces (” “) where necessary</p></li>
</ul>
</section>
<section id="send-lattice-lattice">
<h2>send_lattice &gt;LATTICE<a class="headerlink" href="#send-lattice-lattice" title="Link to this heading">#</a></h2>
<p>This command, along with the <code class="docutils literal notranslate"><span class="pre">&gt;NLATTICE</span> <span class="pre">and</span> </code>&gt;CLATTICE commands, allows the driver to assign a lattice of point charges to an engine, which incorporates the effects of these charges in all further calculations.
After sending this command, the driver sends the charges of each of the point charges to the engine.
Prior to sending this command, the driver must have set the number of point charges using the `&gt;NLATTICE command.</p>
<p>This command is primarily intended for use with gas-phase quantum mechanics codes.
For an alternative command that is more appropriate for plane wave quantum mechanics codes, see the `&gt;POTENTIAL command.</p>
<p>\par</p>
<ul class="simple">
<li><p><strong>Data Type:</strong> `MDI_DOUBLE</p></li>
<li><p><strong>Quantity:</strong> <c> NLATTICE </c></p></li>
<li><p><strong>Format:</strong> Sequentially ascending order of lattice charge index</p></li>
</ul>
</section>
<section id="recv-lattice-forces-lattice-forces">
<h2>recv_lattice_forces &lt;LATTICE_FORCES<a class="headerlink" href="#recv-lattice-forces-lattice-forces" title="Link to this heading">#</a></h2>
<p>If the engine is at the <code class="docutils literal notranslate"><span class="pre">&#64;DEFAULT</span> <span class="pre">node,</span> <span class="pre">it</span> <span class="pre">calculates</span> <span class="pre">and</span> <span class="pre">sends</span> <span class="pre">the</span> <span class="pre">forces</span> <span class="pre">on</span> <span class="pre">any</span> <span class="pre">lattice</span> <span class="pre">charges</span> <span class="pre">(which</span> <span class="pre">must</span> <span class="pre">have</span> <span class="pre">previously</span> <span class="pre">assigned</span> <span class="pre">with</span> <span class="pre">the</span> </code>&gt;LATTICE command) to the driver.
Prior to sending this command, the driver must have set the number, coordinates, and magnitudes of the lattice charges using the <code class="docutils literal notranslate"><span class="pre">&gt;NLATTICE,</span> </code>&gt;CLATTICE, and `&gt;LATTICE commands.
These forces must include only electrostatic interactions between the lattice charges and the atomic nuclei, and between the lattice charges and any electrons.
They must not include electrostatic interactions between the lattice charges and other lattice charges.
If the engine has previously calculated these forces, and no intervening commands from the driver could have changed the forces, the engine is permitted to send the previously calculated forces instead of recalculating them.</p>
<p>If the engine is not at the `&#64;DEFAULT node, it sends its most recently calculated lattice forces to the driver.</p>
<p>This command is primarily intended for use with gas-phase quantum mechanics codes.</p>
<p>\par</p>
<ul class="simple">
<li><p><strong>Data Type:</strong> `MDI_DOUBLE</p></li>
<li><p><strong>Quantity:</strong> <c> 3 * NLATTICE </c></p></li>
<li><p><strong>Format:</strong> Sequentially ascending order of lattice charge index, with the forces for each individual lattice charge being provided in xyz order</p></li>
</ul>
</section>
<section id="recv-masses-masses">
<h2>recv_masses &lt;MASSES<a class="headerlink" href="#recv-masses-masses" title="Link to this heading">#</a></h2>
<p>The engine sends the driver the mass of each of the atoms.</p>
<p>\par</p>
<ul class="simple">
<li><p><strong>Data Type:</strong> `MDI_DOUBLE</p></li>
<li><p><strong>Quantity:</strong> <c> &lt;NATOMS </c></p></li>
<li><p><strong>Format:</strong> Sequentially ascending order of atomic index</p></li>
</ul>
</section>
<section id="send-monkhorst-pack-monkhorst-pack-npoints">
<h2>send_Monkhorst_Pack &gt;MONKHORST-PACK_NPOINTS<a class="headerlink" href="#send-monkhorst-pack-monkhorst-pack-npoints" title="Link to this heading">#</a></h2>
<p>This command is typically expected for use with plane wave DFT engines.
The driver sends the engine the number of k-points to generate on a Monkhorst-Pack grid.
The engine then uses the k-points generated on this Monkhorst-Pack grid for all further simulations.</p>
<p>\par</p>
<ul class="simple">
<li><p><strong>Data Type:</strong> `MDI_INT</p></li>
<li><p><strong>Quantity:</strong> <c> 3 </c></p></li>
<li><p><strong>Format:</strong> The number of k-points to generate along each vector of the Brillouin zone, in ascending order of vector.</p></li>
</ul>
</section>
<section id="send-monkhorst-pack-shift-monkhorst-pack-shift">
<h2>send_Monkhorst_Pack_shift &gt;MONKHORST-PACK_SHIFT<a class="headerlink" href="#send-monkhorst-pack-shift-monkhorst-pack-shift" title="Link to this heading">#</a></h2>
<p>This command is typically expected for use with plane wave DFT engines.
The driver sends the engine a set of values that indicate the extent to which a set of k-points on a Monkhorst-Pack grid should be displaced relative to the original (non-displaced) Monkhorst-Pack grid.
The engine then uses the shifted k-points for all further simulations.</p>
<p>\par</p>
<ul class="simple">
<li><p><strong>Data Type:</strong> `MDI_DOUBLE</p></li>
<li><p><strong>Quantity:</strong> <c> 3 </c></p></li>
<li><p><strong>Format:</strong> The fraction of a grid step by which the k-points should be displaced, in ascending order of vector.  A value of 0.0 indicates no displacement along the corresponding vector, while a value of 0.5 indicates a displacement of half a grid step in along the corresponding vector.  Note that some engines can only support values of 0.0 or 0.5.</p></li>
</ul>
</section>
<section id="send-name-name">
<h2>send_name &lt;NAME<a class="headerlink" href="#send-name-name" title="Link to this heading">#</a></h2>
<p>The engine sends the driver a string that corresponds to the argument of `-name in the MDI initialization options.
This argument allows a driver to identify the purpose of connected engine codes within the simulation.
For example, a particular QM/MM driver might require a connection with a single MM code and a single QM code, with the expected name of the MM code being “MM” and the expected name of the QM code being “QM”.
After initializing MDI and accepting communicators to the engines, the driver can use this command to identify which of the engines is the MM code and which is the QM code.</p>
<p>\par</p>
<ul class="simple">
<li><p><strong>Data Type:</strong> `MDI_CHAR</p></li>
<li><p><strong>Quantity:</strong> <c> MDI_NAME_LENGTH </c></p></li>
</ul>
</section>
<section id="recv-natoms-natoms">
<h2>recv_natoms &lt;NATOMS<a class="headerlink" href="#recv-natoms-natoms" title="Link to this heading">#</a></h2>
<p>The engine sends the driver the number of atoms in the engine’s system.</p>
<p>\par</p>
<ul class="simple">
<li><p><strong>Data Type:</strong> `MDI_INT</p></li>
<li><p><strong>Quantity:</strong> 1</p></li>
</ul>
</section>
<section id="recv-ndensity-ndensity">
<h2>recv_ndensity &lt;NDENSITY<a class="headerlink" href="#recv-ndensity-ndensity" title="Link to this heading">#</a></h2>
<p>The engine sends the number of grid points it is using to represent its electronic density on a grid.
This command is intended to be used in conjuction with the recv_cdensity and recv_density commands; these three commands enable a driver to acquire the electronic density distribution of an engine in a grid representation.
See the recv_density command for more details.</p>
<p>\par</p>
<ul class="simple">
<li><p><strong>Data Type:</strong> `MDI_INT</p></li>
<li><p><strong>Quantity:</strong> 1</p></li>
</ul>
</section>
<section id="send-nlattice-nlattice">
<h2>send_nlattice &gt;NLATTICE<a class="headerlink" href="#send-nlattice-nlattice" title="Link to this heading">#</a></h2>
<p>This command, along with the <code class="docutils literal notranslate"><span class="pre">&gt;CLATTICE</span> <span class="pre">and</span> </code>&gt;LATTICE commands, allows the driver to assign a lattice of point charges to an engine, which incorporates the effects of these charges in all further calculations.
After sending this command, the driver sends the number of point charges to the engine.
This command must be sent before either the <code class="docutils literal notranslate"><span class="pre">&gt;CLATTICE</span> <span class="pre">or</span> </code>&gt;LATTICE commands can be sent.</p>
<p>This command is primarily intended for use with gas-phase quantum mechanics codes.
For an alternative command that is more appropriate for plane wave quantum mechanics codes, see the `&gt;POTENTIAL command.</p>
<p>\par</p>
<ul class="simple">
<li><p><strong>Data Type:</strong> `MDI_INT</p></li>
<li><p><strong>Quantity:</strong> 1</p></li>
</ul>
</section>
<section id="send-npotential-npotential">
<h2>send_npotential &gt;NPOTENTIAL<a class="headerlink" href="#send-npotential-npotential" title="Link to this heading">#</a></h2>
<p>The driver sends the number of grid points it is using to represent a potential on a grid.
This command is intended to be used in conjuction with the send_cpotential and send_potential commands; these three commands enable a driver to set an external potential that is incorporated into a subsequent scf_command command.
See the send_potential command for more details.</p>
<p>\par</p>
<ul class="simple">
<li><p><strong>Data Type:</strong> `MDI_INT</p></li>
<li><p><strong>Quantity:</strong> 1</p></li>
</ul>
</section>
<section id="send-potential-potential">
<h2>send_potential &gt;POTENTIAL<a class="headerlink" href="#send-potential-potential" title="Link to this heading">#</a></h2>
<p>The driver sends an set of values to the engine that correspond to a potential on a grid.
If an scf_command command is later issued, this potential will be incorporated into the SCF calculation as an external potential.</p>
<p>Before sending this command, the driver must have first sent the number of grid points used to represent the potential via the send_npotential command.
It is also necessary that the driver send the Cartesian coordinates of the grid points via the send_cpotential command prior to any subsequent scf_command command.</p>
<p>\par</p>
<ul class="simple">
<li><p><strong>Data Type:</strong> `MDI_DOUBLE</p></li>
<li><p><strong>Quantity:</strong> `NPOTENTIAL</p></li>
</ul>
</section>
<section id="recv-pe-pe">
<h2>recv_pe &lt;PE<a class="headerlink" href="#recv-pe-pe" title="Link to this heading">#</a></h2>
<p>If the engine is at the `&#64;DEFAULT node, it calculates and sends its total potential energy to the driver.
If the engine has previously calculated the energy of the system, and no intervening commands from the driver could have changed the energy, the engine is permitted to send the previously calculated energy instead of recalculating it.</p>
<p>If the engine is not at the `&#64;DEFAULT node, it sends its most recently calculated total potential energy to the driver.</p>
<p>\par</p>
<ul class="simple">
<li><p><strong>Data Type:</strong> `MDI_DOUBLE</p></li>
<li><p><strong>Quantity:</strong> 1</p></li>
</ul>
</section>
<section id="recv-pe-elec-pe-elec">
<h2>recv_pe_elec &lt;PE_ELEC<a class="headerlink" href="#recv-pe-elec-pe-elec" title="Link to this heading">#</a></h2>
<p>If the engine is at the `&#64;DEFAULT node, it calculates and sends its electronic potential energy to the driver.
The electronic potential energy is defined as including all interactions between the electrons and any other particles or fields in the system.
It also includes the interactions between the electrons and themselves.
If the engine has previously calculated the energy of the system, and no intervening commands from the driver could have changed the energy, the engine is permitted to send the previously calculated energy instead of recalculating it.</p>
<p>If the engine is not at the `&#64;DEFAULT node, it sends its most recently calculated electronic potential energy to the driver.</p>
<p>\par</p>
<ul class="simple">
<li><p><strong>Data Type:</strong> `MDI_DOUBLE</p></li>
<li><p><strong>Quantity:</strong> 1</p></li>
</ul>
</section>
<section id="recv-pe-nuc-pe-nuc">
<h2>recv_pe_nuc &lt;PE_NUC<a class="headerlink" href="#recv-pe-nuc-pe-nuc" title="Link to this heading">#</a></h2>
<p>If the engine is at the `&#64;DEFAULT node, it calculates and sends its nuclear potential energy to the driver.
The nuclear potential energy is defined as including all interactions between the nuclei and any other particles or fields in the system, excluding any electrons.
It also includes the interactions between the nuclei and themselves.
If the engine has previously calculated the energy of the system, and no intervening commands from the driver could have changed the energy, the engine is permitted to send the previously calculated energy instead of recalculating it.</p>
<p>If the engine is not at the `&#64;DEFAULT node, it sends its most recently calculated electronic potential energy to the driver.</p>
<p>\par</p>
<ul class="simple">
<li><p><strong>Data Type:</strong> `MDI_DOUBLE</p></li>
<li><p><strong>Quantity:</strong> 1</p></li>
</ul>
</section>
<section id="send-spin-polarization-spin-polarization">
<h2>send_spin_polarization &lt;SPIN_POLARIZATION<a class="headerlink" href="#send-spin-polarization-spin-polarization" title="Link to this heading">#</a></h2>
<p>The engine sends a value that indicates the manner in which it is currently simulating spin polarization.
This command is typically intended for use with plane wave DFT engines.</p>
<p>\par</p>
<ul class="simple">
<li><p><strong>Data Type:</strong> `MDI_INT</p></li>
<li><p><strong>Quantity:</strong> 1</p></li>
<li><p><strong>Format:</strong> A value of 0 indicates that simulations will be performed in a non-spin-polarized manner.  A value of 1 indicates that simulations will be performed in a spin-polarized manner, within the local spin density approximation (LSDA).  A value of 2 indicates that simulations will be performed in a spin-polarized, noncollinear manner.</p></li>
</ul>
</section>
<section id="recv-spin-polarization-spin-polarization">
<h2>recv_spin_polarization &gt;SPIN_POLARIZATION<a class="headerlink" href="#recv-spin-polarization-spin-polarization" title="Link to this heading">#</a></h2>
<p>The driver sends a value that indicates the manner in which spin polarization should be simulated by the engine.
This command is typically intended for use with plane wave DFT engines.</p>
<p>\par</p>
<ul class="simple">
<li><p><strong>Data Type:</strong> `MDI_INT</p></li>
<li><p><strong>Quantity:</strong> 1</p></li>
<li><p><strong>Format:</strong> A value of 0 indicates that simulations should be performed in a non-spin-polarized manner.  A value of 1 indicates that simulations should be performed in a spin-polarized manner, within the local spin density approximation (LSDA).  A value of 2 indicates that simulations should be performed in a spin-polarized, noncollinear manner.</p></li>
</ul>
</section>
<section id="send-stress-stress">
<h2>send_stress &lt;STRESS<a class="headerlink" href="#send-stress-stress" title="Link to this heading">#</a></h2>
<p>The engine sends its virial stress tensor to the driver.</p>
<p>\par</p>
<ul class="simple">
<li><p><strong>Data Type:</strong> `MDI_DOUBLE</p></li>
<li><p><strong>Quantity:</strong> 9</p></li>
<li><p><strong>Format:</strong> The tensor components are sent in row-major order (xx, xy, xz, yx, yy, yz, zx, zy, zz).</p></li>
</ul>
</section>
<section id="recv-stress-stress">
<h2>recv_stress &gt;STRESS<a class="headerlink" href="#recv-stress-stress" title="Link to this heading">#</a></h2>
<p>The driver sends a virial stress tensor to the engine, which replaces its internal stress tensor with the stress tensor sent by the driver.</p>
<p>\par</p>
<ul class="simple">
<li><p><strong>Data Type:</strong> `MDI_DOUBLE</p></li>
<li><p><strong>Quantity:</strong> 9</p></li>
<li><p><strong>Format:</strong> The tensor components are sent in row-major order (xx, xy, xz, yx, yy, yz, zx, zy, zz).</p></li>
</ul>
</section>
<section id="send-totcharge-totcharge">
<h2>send_totcharge &gt;TOTCHARGE<a class="headerlink" href="#send-totcharge-totcharge" title="Link to this heading">#</a></h2>
<p>The driver sends a value for the total charge of the system, including electron and nuclear charges, to the engine, which adjusts the number of electrons present in its system to the value required to reproduce the value sent by the driver.
This command is typically only appropriate for quantum mechanics engines.
Engines that support this command are not required to support non-integer charges; they are permitted to produce an error message if the value received deviates by more than 10^-12 from an integer, and to otherwise round the value received to the nearest integer.</p>
<p>\par</p>
<ul class="simple">
<li><p><strong>Data Type:</strong> `MDI_DOUBLE</p></li>
<li><p><strong>Quantity:</strong> 1</p></li>
</ul>
</section>
<section id="recv-totcharge-totcharge">
<h2>recv_totcharge &lt;TOTCHARGE<a class="headerlink" href="#recv-totcharge-totcharge" title="Link to this heading">#</a></h2>
<p>The engine sends the total charge of its system, including electron and nuclear charges, to the driver.</p>
<p>\par</p>
<ul class="simple">
<li><p><strong>Data Type:</strong> `MDI_DOUBLE</p></li>
<li><p><strong>Quantity:</strong> 1</p></li>
</ul>
</section>
<section id="send-velocities-velocites">
<h2>send_velocities &gt;VELOCITES<a class="headerlink" href="#send-velocities-velocites" title="Link to this heading">#</a></h2>
<p>The driver sends a set of atomic velocities to the driver, which replaces its atomic velocities with those provided by the driver.</p>
<p>\par</p>
<ul class="simple">
<li><p><strong>Data Type:</strong> `MDI_DOUBLE</p></li>
<li><p><strong>Quantity:</strong> <c> 3 * NATOMS </c></p></li>
<li><p><strong>Format:</strong> Sequentially ascending order of atomic index, with the velocities for each individual atom being provided in xyz order</p></li>
</ul>
</section>
<section id="recv-velocities-velocites">
<h2>recv_velocities &lt;VELOCITES<a class="headerlink" href="#recv-velocities-velocites" title="Link to this heading">#</a></h2>
<p>The engine sends the velocities of the atoms in its system to the driver.</p>
<p>\par</p>
<ul class="simple">
<li><p><strong>Data Type:</strong> `MDI_DOUBLE</p></li>
<li><p><strong>Quantity:</strong> <c> 3 * NATOMS </c></p></li>
<li><p><strong>Format:</strong> Sequentially ascending order of atomic index, with the velocities for each individual atom being provided in xyz order</p></li>
</ul>
</section>
<section id="recv-version-version">
<h2>recv_version &lt;VERSION<a class="headerlink" href="#recv-version-version" title="Link to this heading">#</a></h2>
<p>The engine sends the version number of the MDI Library to which it is linked to the driver.</p>
<p>\par</p>
<ul class="simple">
<li><p><strong>Data Type:</strong> `MDI_DOUBLE</p></li>
<li><p><strong>Quantity:</strong> <c> 1 </c></p></li>
</ul>
<p>**/</p>
<p>// &gt;CELL: Define whether the atomic coordinates are scaled.
// &gt;CELL: Describe in detail the format of the cell coordinates
// &lt;FORCES: Need to clarify when forces are recalculated.
// &lt;PRE-FORCES: Need to clarify when forces are recalculated.
// &gt;STRESS: Add commands for stresses
// &gt;STRESS: Describe in detail the format of the stress tensor
// &gt;STRESS: Clarify when stresses are recalculated</p>
</section>
</section>


                </article>
              
              
              
              
              
                <footer class="prev-next-footer d-print-none">
                  
<div class="prev-next-area">
</div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
<div
    id="pst-page-navigation-heading-2"
    class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> On this page
  </div>
  <nav class="bd-toc-nav page-toc" aria-labelledby="pst-page-navigation-heading-2">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#recv-cdensity-cdensity">recv_cdensity &lt;CDENSITY</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#send-cell-cell">send_cell &gt;CELL</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#recv-cell-cell">recv_cell &lt;CELL</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#send-cell-displ-cell-displ">send_cell_displ &gt;CELL_DISPL</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#recv-cell-displ-cell-displ">recv_cell_displ &lt;CELL_DISPL</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#send-charges-charges">send_charges &gt;CHARGES</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#recv-charges-charges">recv_charges &lt;CHARGES</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#send-clattice-clattice">send_clattice &gt;CLATTICE</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#send-coords-coords">send_coords &gt;COORDS</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#recv-coords-coords">recv_coords &lt;COORDS</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#send-cpotential-cpotential">send_cpotential &gt;CPOTENTIAL</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#recv-density-density">recv_density &lt;DENSITY</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#recv-dimensions-dimensions">recv_dimensions &lt;DIMENSIONS</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#send-mult-elec-mult">send_mult &gt;ELEC_MULT</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#recv-mult-elec-mult">recv_mult &lt;ELEC_MULT</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#recv-elements-elements">recv_elements &lt;ELEMENTS</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#send-elements-elements">send_elements &gt;ELEMENTS</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#recv-energy-energy">recv_energy &lt;ENERGY</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#send-forces-forces">send_forces &gt;FORCES</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#send-add-forces-forces">send_add_forces &gt;+FORCES</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#recv-forces-forces">recv_forces &lt;FORCES</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#recv-ke-ke">recv_ke &lt;KE</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#recv-ke-elec-ke-elec">recv_ke_elec &lt;KE_ELEC</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#recv-ke-nuc-ke-nuc">recv_ke_nuc &lt;KE_NUC</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#send-labels-labels">send_labels &lt;LABELS</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#send-lattice-lattice">send_lattice &gt;LATTICE</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#recv-lattice-forces-lattice-forces">recv_lattice_forces &lt;LATTICE_FORCES</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#recv-masses-masses">recv_masses &lt;MASSES</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#send-monkhorst-pack-monkhorst-pack-npoints">send_Monkhorst_Pack &gt;MONKHORST-PACK_NPOINTS</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#send-monkhorst-pack-shift-monkhorst-pack-shift">send_Monkhorst_Pack_shift &gt;MONKHORST-PACK_SHIFT</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#send-name-name">send_name &lt;NAME</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#recv-natoms-natoms">recv_natoms &lt;NATOMS</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#recv-ndensity-ndensity">recv_ndensity &lt;NDENSITY</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#send-nlattice-nlattice">send_nlattice &gt;NLATTICE</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#send-npotential-npotential">send_npotential &gt;NPOTENTIAL</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#send-potential-potential">send_potential &gt;POTENTIAL</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#recv-pe-pe">recv_pe &lt;PE</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#recv-pe-elec-pe-elec">recv_pe_elec &lt;PE_ELEC</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#recv-pe-nuc-pe-nuc">recv_pe_nuc &lt;PE_NUC</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#send-spin-polarization-spin-polarization">send_spin_polarization &lt;SPIN_POLARIZATION</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#recv-spin-polarization-spin-polarization">recv_spin_polarization &gt;SPIN_POLARIZATION</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#send-stress-stress">send_stress &lt;STRESS</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#recv-stress-stress">recv_stress &gt;STRESS</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#send-totcharge-totcharge">send_totcharge &gt;TOTCHARGE</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#recv-totcharge-totcharge">recv_totcharge &lt;TOTCHARGE</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#send-velocities-velocites">send_velocities &gt;VELOCITES</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#recv-velocities-velocites">recv_velocities &lt;VELOCITES</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#recv-version-version">recv_version &lt;VERSION</a></li>
</ul>
  </nav></div>

  <div class="sidebar-secondary-item">

  <div class="tocsection sourcelink">
    <a href="../../_sources/user_guide/mdi_standard/commands.md.txt">
      <i class="fa-solid fa-file-lines"></i> Show Source
    </a>
  </div>
</div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
          </footer>
        
      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../../_static/scripts/bootstrap.js?digest=3ee479438cf8b5e0d341"></script>
<script src="../../_static/scripts/pydata-sphinx-theme.js?digest=3ee479438cf8b5e0d341"></script>

  <footer class="bd-footer">
<div class="bd-footer__inner bd-page-width">
  
    <div class="footer-items__start">
      
        <div class="footer-item">
  



  
  
  
  
  
  
  


<div class="row h-10">
    <div class="col-2">
        <a href="https://molssi.org/" target="_blank" title="Go to MolSSI in a new tab">
            <img src="../../_static/molssi_main_logo.png" class="logo__image only-light footer_logo" alt="Logo image">
            <img src="../../_static/molssi_main_logo_inverted_white.png" class="logo__image only-dark footer_logo" alt="Logo image">
        </a>
    </div>
    <div class="col-8">
        <p> &copy; Copyright 2019-2023 <a href="https://molssi.org/">The Molecular Sciences Software Institute</a></p>
        <p>Funded by the National Science Foundation 
          <a href="https://nsf.gov/awardsearch/showAward?AWD_ID=1547580">OAC-1547580</a> and 
          <a href="https://www.nsf.gov/awardsearch/showAward?AWD_ID=2136142">CHE-2136142.</a></p>
 
        
        <p class="sphinx-version">
        Created using <a href="http://sphinx-doc.org/">Sphinx</a> 7.3.7.<br>
        </p>
        

        <p class="theme-version">
        Built with a customized <a href="https://pydata-sphinx-theme.readthedocs.io/en/stable/index.html">PyData Sphinx Theme</a> 0.15.3.
        </p>

    </div>
    <div class="col-2">
        <a href="https://nsf.gov/" target="_blank" title="Go to the NSF in a new tab">
            <img src="../../_static/nsf.png" class="footer_logo" alt="The NSF">
          </a>
    </div>
</div></div>
      
    </div>
  
  
  
</div>

  </footer>
  </body>
</html>